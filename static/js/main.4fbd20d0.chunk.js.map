{"version":3,"sources":["images/logo/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/api.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","CurrentUserContext","createContext","Card","onCardClick","onCardLike","onCardDelete","link","name","likes","owner","_id","currentUser","useContext","isOwn","isLiked","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","onClick","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","card","Footer","PopupWithForm","title","submitText","children","isOpen","onClose","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","event","preventDefault","value","onChange","target","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","ImagePopup","api","login","this","_server","server","_auth","auth","_cohort","cohort","_path","request","then","res","ok","json","Promise","reject","status","fetch","method","headers","authorization","_handleResponse","data","body","JSON","stringify","cardId","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInitialCards","catch","console","error","getUserInfo","Provider","changeLikeCardStatus","newCard","newCards","cardItem","deleteCard","filter","UserData","sendUserInfo","CardData","addNewCard","editAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4fbd20d0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from '../images/logo/logo.svg';\r\nimport './Header.css';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img\r\n        className=\"header__logo\"\r\n        src={logo}\r\n        alt=\"Логотип\"\r\n      />\r\n    </header>  \r\n  )\r\n}\r\n\r\nexport default Header;","import { createContext } from 'react';\r\n\r\nexport const CurrentUserContext = createContext();\r\n\r\nexport const currentUser = {}; \r\n","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({onCardClick, onCardLike, onCardDelete, link, name, likes, owner, _id}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = owner._id === currentUser._id;\r\n  const isLiked = likes.some(item => item._id === currentUser._id);\r\n  const cardDeleteButtonClassName = (\r\n    `element__trash-icon ${isOwn ? 'element__trash-icon_visible' : 'element__trash-icon_hidden'}`\r\n  );\r\n  const cardLikeButtonClassName = (\r\n    `element__like-icon ${isLiked ? 'element__like-icon_active' : ''}`); \r\n\r\n  function handleClick() {\r\n    onCardClick({link, name});\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike({_id, name, link, likes, owner})\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete({_id, name, link, likes, owner});\r\n  }\r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <img \r\n        className=\"element__image\"\r\n        src={ link }\r\n        alt={ name }\r\n        onClick={ handleClick }\r\n      />\r\n      <div className=\"element__description\">\r\n        <h3 className=\"element__title\">{ name }</h3>\r\n        <button \r\n          type=\"button\" \r\n          className={ cardDeleteButtonClassName }\r\n          onClick={ handleDeleteClick }\r\n        >\r\n        </button>\r\n        <div className=\"element__likes\">\r\n          <button \r\n            type=\"button\" \r\n            className={ cardLikeButtonClassName }\r\n            onClick={ handleLikeClick }\r\n          >\r\n          </button>\r\n          <span className=\"element__like-count\">{ likes.length }</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;","import Card from './Card';\r\nimport { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, onCardLike, onCardDelete, cards}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__overlay\" onClick={ onEditAvatar }>\r\n          <img \r\n            className=\"profile__avatar\" \r\n            src={ currentUser.avatar } \r\n            alt=\"Фото профиля\"\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__edit\">\r\n            <h1 className=\"profile__title\">{ currentUser.name }</h1>\r\n            <button \r\n              type=\"button\" \r\n              className=\"profile__edit-btn\"\r\n              onClick={ onEditProfile }>  \r\n            </button>\r\n          </div>\r\n          <p className=\"profile__description\">{ currentUser.about }</p>\r\n        </div>\r\n        <button \r\n          type=\"button\" \r\n          className=\"profile__add-btn\"\r\n          onClick={ onAddPlace }> \r\n        </button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {cards.map((card) => (\r\n          <Card \r\n            key={ card._id }\r\n            { ...card } \r\n            onCardClick={ onCardClick } \r\n            onCardLike={ onCardLike }\r\n            onCardDelete={ onCardDelete }\r\n          />\r\n          )\r\n        )}\r\n      </section>\r\n\r\n    </main>\r\n  )\r\n}\r\n  \r\nexport default Main;","function Footer(props) {\r\n  return(\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020. Матвеев Олег</p>\r\n    </footer>   \r\n  )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm({title, name, submitText='Сохранить', children, isOpen, onClose, onSubmit}) {\r\n  return (\r\n    <section className={ `popup popup_type-${name} ${ isOpen ? 'popup_is-opened' : '' }` }>\r\n      <div className=\"popup__container\">\r\n        <button onClick={ onClose } type=\"button\" className=\"popup__close\"></button>\r\n        <h3 className=\"popup__title\">{title}</h3>\r\n        <form \r\n          name={ name }\r\n          className={`popup__input-form popup__input-form_type-${name}`}\r\n          onSubmit={ onSubmit }\r\n          noValidate>\r\n            { children }\r\n            <button \r\n              type=\"submit\"\r\n              className={`popup__input-btn popup__input-btn_type-${name}`}>\r\n              { submitText }\r\n            </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport 'react-dom';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description\r\n    });\r\n  } \r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name || '');\r\n    setDescription(currentUser.about || '');\r\n  }, [currentUser]); \r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={ isOpen }\r\n      onClose={ onClose }\r\n      onSubmit={ handleSubmit }\r\n    >\r\n    <input\r\n      type=\"text\"\r\n      value={ name }\r\n      onChange={ handleNameChange }\r\n      placeholder=\"Имя\"\r\n      name=\"name\"\r\n      className=\"popup__input-text popup__input-text_name\"\r\n      minLength=\"2\"\r\n      maxLength=\"40\"\r\n      required\r\n    />\r\n    <span className=\"popup__error popup__error_name\">Введите имя</span>\r\n    <input\r\n      type=\"text\"\r\n      value={ description }\r\n      onChange={ handleDescriptionChange }\r\n      placeholder=\"Род занятий\"\r\n      name=\"description\"\r\n      className=\"popup__input-text popup__input-text_description\"\r\n      minLength=\"2\"\r\n      maxLength=\"200\"\r\n      required\r\n    />\r\n    <span className=\"popup__error popup__error_description\">Введите род занятий</span>\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport 'react-dom';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const avatarRef = useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"update-avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={ isOpen }\r\n      onClose={ onClose }\r\n      onSubmit={ handleSubmit }\r\n  >\r\n    <input \r\n      type=\"url\"\r\n      placeholder=\"Ссылка на аватарку...\"\r\n      name=\"avatar\"\r\n      ref={ avatarRef }\r\n      className=\"popup__input-text\"\r\n      required\r\n    />\r\n    <span className=\"popup__error popup__error_avatar\">Введите URL аватарки</span>\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","function ImagePopup({isOpen, onClose, card}) {\r\n  return (\r\n    <section className={ `popup popup_type-image ${ isOpen ? 'popup_is-opened' : '' }`}>\r\n    <div className=\"popup__container popup__container_type-image\">\r\n      <button onClick={ onClose } type=\"button\" className=\"popup__close\"></button>\r\n      <img className=\"popup__fullpic\" src={ card.link } alt={ card.name }/>\r\n      <h3 className=\"popup__title popup__title_type-image\">{ card.name }</h3>\r\n    </div>\r\n  </section>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor(login) {\r\n    this._server = login.server;\r\n    this._auth = login.auth;\r\n    this._cohort = login.cohort;\r\n    this._path = `${this._server}${this._cohort}`;\r\n  }\r\n\r\n  _handleResponse(request) {\r\n    return request.then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  getInitialCards() {\r\n    const request = fetch(`${this._path}/cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._auth\r\n      }\r\n    });\r\n    return this._handleResponse(request);\r\n  }\r\n\r\n  getUserInfo() {\r\n    const request = fetch(`${this._path}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._auth,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    return this._handleResponse(request);\r\n  }\r\n\r\n  sendUserInfo(data) {\r\n    const request = fetch(`${this._path}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._auth,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n    return this._handleResponse(request);\r\n  }\r\n\r\n  addNewCard(data) {\r\n    const request = fetch(`${this._path}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._auth,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n    return this._handleResponse(request);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    const request = fetch(`${this._path}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._auth,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n    return this._handleResponse(request);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    const request = fetch(`${this._path}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'PUT':'DELETE',\r\n      headers: {\r\n        authorization: this._auth,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n    return this._handleResponse(request);\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    const request = fetch(`${this._path}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._auth,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n    return this._handleResponse(request);\r\n  }\r\n\r\n  unlikeCard(cardId) {\r\n    const request = fetch(`${this._path}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._auth,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n    return this._handleResponse(request);\r\n  }\r\n\r\n  editAvatar(data) {\r\n    const request = fetch(`${this._path}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._auth,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    })\r\n    return this._handleResponse(request);\r\n  }\r\n}\r\n\r\nconst login = {\r\n  \"server\": \"https://mesto.nomoreparties.co/v1/\",\r\n  \"auth\": \"ca5f4285-decb-4fbb-b094-52f199996ef3\",\r\n  \"cohort\": \"cohort-19\"\r\n}\r\n\r\nconst api = new Api(login);\r\nexport default api;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { useState, useContext } from 'react';\r\nimport 'react-dom';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n  const [placeName, setPlaceName] = useState('');\r\n  const [placeLink, setPlaceLink] = useState('');\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  function handlePlaceNameChange(event) {\r\n    setPlaceName(event.target.value);\r\n  }\r\n\r\n  function handlePlaceLinkChange(event) {\r\n    setPlaceLink(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onAddPlace({\r\n      name: placeName,\r\n      link: placeLink\r\n    });\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"card\"\r\n      title=\"Новое место\"\r\n      isOpen={ isOpen }\r\n      onClose={ onClose }\r\n      onSubmit={ handleSubmit }\r\n    >\r\n    <input \r\n      type=\"text\"\r\n      value={ placeName }\r\n      onChange={ handlePlaceNameChange }\r\n      placeholder=\"Название\"\r\n      name=\"name\"\r\n      className=\"popup__input-text popup__input-text_title\"\r\n      minLength=\"2\"\r\n      maxLength=\"30\"\r\n      required\r\n    />\r\n    <span className=\"popup__error popup__error_name\">Заполните это поле</span>\r\n    <input \r\n      type=\"url\"\r\n      value={ placeLink }\r\n      onChange={ handlePlaceLinkChange }\r\n      placeholder=\"Сыылка на картинку\"\r\n      name=\"link\"\r\n      className=\"popup__input-text popup__input-text_link\"\r\n      required\r\n    />\r\n    <span className=\"popup__error popup__error_link\">Введите URL картинки</span>\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import './App.css';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api'\r\nimport { useState, useEffect } from 'react';\r\nimport 'react-dom';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport AddPlacePopup from './AddPlacePopup';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n \r\n  const [cards, setCards] = useState([]);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map(cardItem => cardItem._id === card._id ? newCard : cardItem);\r\n        setCards(newCards)\r\n      })\r\n      .catch(console.error);\r\n  } \r\n\r\n  function handleCardDelete(card) {\r\n    const isOwner = card.owner._id === currentUser._id;\r\n\r\n    if (!isOwner) {\r\n      return;\r\n    }\r\n\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter(({ _id }) => _id !== card._id);\r\n        setCards(newCards)\r\n      })\r\n      .catch(console.error);\r\n  } \r\n  \r\n  useEffect(() => {\r\n      api.getInitialCards()\r\n      .then(res => {\r\n        const cards = res.map(card => {\r\n          return {\r\n            _id: card._id,\r\n            name: card.name,\r\n            link: card.link,\r\n            likes: card.likes,\r\n            owner: card.owner\r\n          }\r\n        })\r\n        setCards(cards);\r\n      })\r\n      .catch(console.error);\r\n\r\n      api.getUserInfo()\r\n      .then(setCurrentUser)\r\n      .catch(console.error);\r\n  }, [])\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  \r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  \r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setIsImagePopupOpen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleUpdateUser(UserData) {\r\n    api.sendUserInfo(UserData)\r\n      .then(setCurrentUser)\r\n      .catch(console.error);\r\n    setIsEditProfilePopupOpen(false);\r\n  }\r\n\r\n  function handleUpdateAvatar(UserData) {\r\n    api.editAvatar(UserData)\r\n      .then(setCurrentUser)\r\n      .catch(console.error);\r\n    setIsEditAvatarPopupOpen(false);\r\n  }\r\n\r\n  function handleAddPlaceSubmit(CardData) {\r\n    api.addNewCard(CardData)\r\n      .then(res => {setCards([res, ...cards])})\r\n      .catch(console.error);\r\n    setIsAddPlacePopupOpen(false);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n      <Header/>\r\n      <Main\r\n        onEditProfile={ handleEditProfileClick }\r\n        onAddPlace={ handleAddPlaceClick }\r\n        onEditAvatar={ handleEditAvatarClick }\r\n        onCardClick={ handleCardClick }\r\n        onCardLike={ handleCardLike }\r\n        onCardDelete={ handleCardDelete }\r\n        cards={ cards }\r\n      />\r\n      <Footer/>\r\n      <EditProfilePopup \r\n        isOpen={ isEditProfilePopupOpen }\r\n        onClose={ closeAllPopups }\r\n        onUpdateUser={ handleUpdateUser }\r\n      /> \r\n      <AddPlacePopup\r\n        isOpen={ isAddPlacePopupOpen }\r\n        onClose={ closeAllPopups }\r\n        onAddPlace={ handleAddPlaceSubmit }\r\n      />\r\n      <PopupWithForm \r\n        name=\"delete\"\r\n        title=\"Вы уверены?\"\r\n        submitText=\"Да\"\r\n        onClose={ closeAllPopups }\r\n      />\r\n      <EditAvatarPopup \r\n        isOpen={ isEditAvatarPopupOpen }\r\n        onClose={ closeAllPopups }\r\n        onUpdateAvatar={ handleUpdateAvatar }\r\n      />\r\n      <ImagePopup \r\n        card={ selectedCard }\r\n        isOpen={ isImagePopupOpen }\r\n        onClose={ closeAllPopups }\r\n      />\r\n      </CurrentUserContext.Provider>\r\n  </div>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}